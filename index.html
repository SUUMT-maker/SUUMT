<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>μ¨νΈλ μ΄λ„</title> <!-- v1.0.3 -->
    
    <!-- Google Analytics 4 - μ¨νΈλ μ΄λ„ -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TFYK5NK44V"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-TFYK5NK44V');
    </script>
    
    <!-- π™ λ‹¤ν¬λ¨λ“ λ¬Έμ  ν•΄κ²°: μƒ‰μƒ μ¤ν‚¤λ§ κ³ μ • -->
    <meta name="color-scheme" content="light">
    <meta name="supported-color-schemes" content="light">
    
    <!-- π€ μΊμ‹ λ°©μ§€ λ° λ²„μ „ κ΄€λ¦¬ -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="version" content="1.0.2">
    
    <!-- PWA λ©”νƒ€ νƒκ·Έ -->
    <meta name="description" content="μ¨νΈ νΈν΅μ΄λ™κΈ°κµ¬ μ „μ© κ°€μ΄λ“ μ•±">
    <meta name="keywords" content="μ¨νΈ, νΈν΅μ΄λ™κΈ°κµ¬, νΈν΅κ·Όμ΅νΈλ μ΄λ‹, νν™λ‰, νΈν΅κ·Όμ΅κ°•ν™”">
    <meta name="author" content="μ¨νΈλ μ΄λ„">
    <meta name="theme-color" content="#667eea">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="μ¨νΈλ μ΄λ„">
    <meta name="application-name" content="μ¨νΈλ μ΄λ„">
    <meta name="msapplication-TileColor" content="#667eea">
    <meta name="msapplication-config" content="/browserconfig.xml">
    
    <!-- λ§¤λ‹νμ¤νΈ λ§ν¬ -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- νλΉ„μ½ λ° μ•„μ΄μ½ -->
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/icon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/icon-16x16.png">
    <link rel="apple-touch-icon" href="/icons/icon-180x180.png">
    
    <!-- CSS νμΌ -->
    <link rel="stylesheet" href="css/main.css?v=1.0.2">
    <link rel="stylesheet" href="css/components.css?v=1.0.2">
    <link rel="stylesheet" href="css/screens.css?v=1.0.2">
    <link rel="stylesheet" href="css/mobile.css?v=1.0.2">
    
    <!-- JavaScript νμΌ -->
    <script src="js/utils.js?v=1.0.2"></script>
    <script src="js/supabase-client.js?v=1.0.2"></script>
    <script src="js/app.js?v=1.0.2"></script>
    <script src="js/stats.js?v=1.0.2"></script>
    <script src="js/exercise.js?v=1.0.2"></script>
    <script src="js/quiz.js?v=1.0.2"></script>

</head>
<body>
  <!-- π¬ 2λ‹¨κ³„ μ¨λ³΄λ”© μ¤ν”λμ‹ ν™”λ©΄ -->
<div id="introScreen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: linear-gradient(135deg, #CFEFFF 0%, #B8E8FF 50%, #A1E1FF 100%); display: flex; justify-content: center; align-items: center; z-index: 2000; opacity: 1; transition: opacity 0.8s ease-out; overflow: hidden;">
    
    <!-- μ „μ²΄ λ°°κ²½ λΈ”λ¬ ν¨κ³Όλ“¤ -->
    <div style="position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle at 20% 30%, rgba(46, 181, 250, 0.3) 0%, transparent 50%), radial-gradient(circle at 80% 70%, rgba(46, 181, 250, 0.2) 0%, transparent 50%), radial-gradient(circle at 40% 80%, rgba(46, 181, 250, 0.25) 0%, transparent 40%); animation: float 20s ease-in-out infinite;"></div>
    
    <!-- μ²« λ²μ§Έ μ¨λ³΄λ”© ν™”λ©΄ -->
    <div id="onboardingStep1" class="onboarding-step active" style="width: 375px; height: 812px; position: relative; overflow: hidden; display: flex;">
        <!-- λ©”μΈ μ½ν…μΈ  μ»¨ν…μ΄λ„ -->
        <div style="height: 702px; left: 20px; top: 61px; position: absolute; flex-direction: column; justify-content: flex-start; align-items: center; gap: 23px; display: inline-flex;">
            
            <!-- λ©”μΈ μ΄λ―Έμ§€ -->
            <div style="width: 335px; height: 419px; position: relative; overflow: hidden; border-radius: 12px;">
                <img src="./images/suumt-usage.png" alt="μ¨νΈ μ‚¬μ© λ¨μµ" style="width: 350px; height: 525px; left: -5px; top: -33px; position: absolute; object-fit: cover;" onerror="this.style.display='none';">
            </div>
            
            <!-- ν…μ¤νΈ λ° λ²„νΌ μμ—­ -->
            <div style="flex-direction: column; justify-content: flex-start; align-items: center; gap: 40px; display: flex;">
                
                <!-- ν…μ¤νΈμ™€ μΈλ””μΌ€μ΄ν„° -->
                <div style="flex-direction: column; justify-content: flex-start; align-items: center; gap: 32px; display: flex;">
                    
                    <!-- ν…μ¤νΈ μμ—­ -->
                    <div style="flex-direction: column; justify-content: flex-start; align-items: center; gap: 16px; display: flex;">
                        <div style="width: 320px; text-align: center; justify-content: center; display: flex; flex-direction: column; color: #1E1E1E; font-size: 28px; font-family: 'Space Grotesk', sans-serif; font-weight: 700; line-height: 32px; word-wrap: break-word;">κ±΄κ°•ν• νΈν΅, λ” λ‚μ€ μ‚¶</div>
                        <div style="width: 280px; text-align: center; justify-content: center; display: flex; flex-direction: column; color: #626262; font-size: 14px; font-family: 'Space Grotesk', sans-serif; font-weight: 400; line-height: 20px; word-wrap: break-word;">AIκ°€ λ¶„μ„ν•λ” κ°μΈ λ§μ¶¤ νΈν΅ κ°•ν™”!<br>λ‹Ήμ‹ λ§μ μ¤λ§νΈ νΈν΅ νΈλ μ΄λ‹ </div>
                    </div>
                    
                    <!-- νμ΄μ§€ μΈλ””μΌ€μ΄ν„° -->
                    <div style="justify-content: flex-start; align-items: flex-start; gap: 4px; display: inline-flex;">
                        <div style="width: 16.97px; height: 4px; background: #1E1E1E; border-radius: 56px;"></div>
                        <div style="width: 4.17px; height: 4px; opacity: 0.30; background: #3D3C3C; border-radius: 56px;"></div>
                    </div>
                    
                </div>
                
                <!-- λ²„νΌ μμ—­ -->
                <div style="justify-content: flex-start; align-items: flex-start; gap: 16px; display: inline-flex;">
                    <button onclick="skipOnboarding()" style="width: 160px; height: 48px; padding: 16px; border-radius: 24px; outline: 1px #2EB5FA solid; outline-offset: -1px; justify-content: center; align-items: center; gap: 10px; display: flex; background: transparent; border: none; cursor: pointer; transition: all 0.3s ease;">
                        <div style="justify-content: center; display: flex; flex-direction: column; color: #2EB5FA; font-size: 16px; font-family: 'Space Grotesk', sans-serif; font-weight: 700; line-height: 16px; word-wrap: break-word;">Skip</div>
                    </button>
                    <button onclick="nextOnboardingStep()" style="width: 159px; height: 48px; padding: 16px; background: #2EB5FA; border-radius: 24px; justify-content: center; align-items: center; gap: 10px; display: flex; border: none; cursor: pointer; transition: all 0.3s ease;">
                        <div style="justify-content: center; display: flex; flex-direction: column; color: white; font-size: 16px; font-family: 'Space Grotesk', sans-serif; font-weight: 700; line-height: 16px; word-wrap: break-word;">Next</div>
                    </button>
                </div>
                
            </div>
            
        </div>
    </div>
    
    <!-- λ‘ λ²μ§Έ μ¨λ³΄λ”© ν™”λ©΄ -->
    <div id="onboardingStep2" class="onboarding-step" style="width: 375px; height: 812px; position: relative; overflow: hidden; display: none;">
        <!-- λ©”μΈ μ½ν…μΈ  μ»¨ν…μ΄λ„ -->
        <div style="height: 702px; left: 20px; top: 61px; position: absolute; flex-direction: column; justify-content: flex-start; align-items: center; gap: 23px; display: inline-flex;">
            
            <!-- λ©”μΈ μ΄λ―Έμ§€ -->
            <div style="width: 335px; height: 419px; position: relative; overflow: hidden; border-radius: 12px;">
                <img src="./images/suumt-onboarding.png" alt="μ¨νΈ μ ν’" style="width: 350px; height: 419px; left: -5px; top: 0px; position: absolute; object-fit: cover;" onerror="this.style.display='none';">
            </div>
            
            <!-- ν…μ¤νΈ λ° λ²„νΌ μμ—­ -->
            <div style="flex-direction: column; justify-content: flex-start; align-items: center; gap: 40px; display: flex;">
                
                <!-- ν…μ¤νΈμ™€ μΈλ””μΌ€μ΄ν„° -->
                <div style="flex-direction: column; justify-content: flex-start; align-items: center; gap: 32px; display: flex;">
                    
                    <!-- ν…μ¤νΈ μμ—­ -->
                    <div style="flex-direction: column; justify-content: flex-start; align-items: center; gap: 16px; display: flex;">
                        <div style="width: 320px; text-align: center; justify-content: center; display: flex; flex-direction: column; color: #1E1E1E; font-size: 26px; font-family: 'Space Grotesk', sans-serif; font-weight: 700; line-height: 30px; word-wrap: break-word;">μ¨νΈμ™€ ν•¨κ» μ‹μ‘ν•μ„Έμ”</div>
                        <div style="width: 280px; text-align: center; justify-content: center; display: flex; flex-direction: column; color: #626262; font-size: 14px; font-family: 'Space Grotesk', sans-serif; font-weight: 400; line-height: 20px; word-wrap: break-word;">AI μ¨νΈλ μ΄λ„μ™€ ν•¨κ»<br>λ‚λ§μ νΈν΅μ΄λ™μ„ μ‹μ‘ν•΄λ³΄μ„Έμ”</div>
                    </div>
                    
                    <!-- νμ΄μ§€ μΈλ””μΌ€μ΄ν„° -->
                    <div style="justify-content: flex-start; align-items: flex-start; gap: 4px; display: inline-flex;">
                        <div style="width: 4.17px; height: 4px; opacity: 0.30; background: #3D3C3C; border-radius: 56px;"></div>
                        <div style="width: 16.97px; height: 4px; background: #1E1E1E; border-radius: 56px;"></div>
                    </div>
                    
                </div>
                
                <!-- λ²„νΌ μμ—­ -->
                <div style="justify-content: flex-start; align-items: flex-start; gap: 16px; display: inline-flex;">
                    <button onclick="skipOnboarding()" style="width: 160px; height: 48px; padding: 16px; border-radius: 24px; outline: 1px #2EB5FA solid; outline-offset: -1px; justify-content: center; align-items: center; gap: 10px; display: flex; background: transparent; border: none; cursor: pointer; transition: all 0.3s ease;">
                        <div style="justify-content: center; display: flex; flex-direction: column; color: #2EB5FA; font-size: 16px; font-family: 'Space Grotesk', sans-serif; font-weight: 700; line-height: 16px; word-wrap: break-word;">Skip</div>
                    </button>
                    <button onclick="skipOnboarding()" style="width: 159px; height: 48px; padding: 16px; background: #2EB5FA; border-radius: 24px; justify-content: center; align-items: center; gap: 10px; display: flex; border: none; cursor: pointer; transition: all 0.3s ease;">
                        <div style="justify-content: center; display: flex; flex-direction: column; color: white; font-size: 16px; font-family: 'Space Grotesk', sans-serif; font-weight: 700; line-height: 16px; word-wrap: break-word;">Start</div>
                    </button>
                </div>
                
            </div>
            
        </div>
    </div>
    
</div>



    <!-- π― μ»¤μ¤ν…€ ν™•μΈ λ¨λ‹¬ -->
    <div id="confirmModal" class="modal-overlay">
        <div class="modal">
            <h3>νΈλ μ΄λ‹ μ¤‘λ‹¨</h3>
            <p>μ •λ§ μ¨νΈλ μ΄λ‹μ„ μ¤‘λ‹¨ν•μ‹κ² μµλ‹κΉ?</p>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-cancel" onclick="hideModal()">μ·¨μ†</button>
                <button class="modal-btn modal-btn-confirm" onclick="confirmStop()">μ¤‘λ‹¨</button>
            </div>
        </div>
    </div>

    <!-- π® λ°°μ§€ νλ“ νμ—… -->
    <div id="badgePopup" class="badge-popup-overlay">
        <div class="badge-popup">
            <div class="badge-popup-icon" id="badgePopupIcon">π†</div>
            <h3>λ°°μ§€ νλ“!</h3>
            <div class="badge-name" id="badgePopupName">μ²« κ±Έμ</div>
            <p id="badgePopupDescription">μ²« λ²μ§Έ νΈν΅ νΈλ μ΄λ‹μ„ μ™„λ£ν•μ…¨μµλ‹λ‹¤!</p>
            <button class="badge-popup-close" onclick="closeBadgePopup()">ν™•μΈ</button>
        </div>
    </div>

    <div class="app-container">
        <!-- λ©”μΈ ν™”λ©΄ -->
        <div id="mainScreen" class="screen active">
            <!-- λ©”μΈ ν—¤λ” -->
            <div class="main-header">
                <div class="user-greeting">
                    <div class="user-info">
                        <div class="user-avatar">
                            <img src="./images/suumt-logo.png" alt="μ¨νΈ λ΅κ³ " onerror="this.style.display='none'; this.parentNode.innerHTML='π«';">
                        </div>
                        <div class="user-text">
                            <h4>μ•λ…•ν•μ„Έμ”,</h4>
                            <h3 id="userName">AI μ¨νΈλ μ΄λ„</h3>
                            <!-- π”¥ μƒλ΅μ΄ κΈ°λ¥: λ©”μΈν™”λ©΄ μ‹¤μ‹κ°„ ν„ν™© -->
                            <div class="live-users-badge" id="mainLiveUsers">
                                <div class="live-indicator"></div>
                                <span id="mainLiveUsersText">μ¤λ 247λ… νΈλ μ΄λ‹ μ¤‘</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ν†µκ³„ μ„Ήμ… -->
            <div class="stats-section">
                <div class="section-header">
                    <div>
                        <h2 class="section-title">
                            <span class="section-icon">π“</span>
                            <span>μ¤λμ κΈ°λ΅</span>
                        </h2>
                        <div class="section-subtitle">μ¤λ ν•λ£¨ λ‚μ νΈν΅ νΈλ μ΄λ‹ ν„ν™©</div>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-card-header">
                            <div class="stat-card-title">μ¤λ νΈν΅</div>
                            <div class="stat-card-icon">π«</div>
                        </div>
                        <div class="stat-card-value">
                            <div class="stat-number" id="totalBreaths">0</div>
                            <div class="stat-unit">ν</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-card-header">
                            <div class="stat-card-title">μ¤λ μ™„λ£</div>
                            <div class="stat-card-icon">π’</div>
                        </div>
                        <div class="stat-card-value">
                            <div class="stat-number" id="averageSets">0</div>
                            <div class="stat-unit">μ„ΈνΈ</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-card-header">
                            <div class="stat-card-title">μ—°μ† μΌμ</div>
                            <div class="stat-card-icon">π”¥</div>
                        </div>
                        <div class="stat-card-value">
                            <div class="stat-number" id="consecutiveDays">0</div>
                            <div class="stat-unit">μΌ</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-card-header">
                            <div class="stat-card-title">μ΄ νΈλ μ΄λ‹</div>
                            <div class="stat-card-icon">π†</div>
                        </div>
                        <div class="stat-card-value">
                            <div class="stat-number" id="totalExercises">0</div>
                            <div class="stat-unit">ν</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- μ΄λ™ κ°€μ΄λ“ (μ΄λ™ νƒ­μΌλ΅ μ΄λ™ μμ •) -->
            <!-- <div class="guide-card">
                <div class="guide-header">
                    <div class="guide-title">π“‹ μ¨νΈ νΈλ μ΄λ‹ κ°€μ΄λ“</div>
                </div>
                
                <div class="important-notice">
                    <span class="important-icon">π’΅</span>
                    <span class="important-text">νΈν΅ν•  λ•λ” μμ‹μ μΌλ΅ νμ„ μ£Όμ–΄ κΉκ² νΈν΅ν•μ„Έμ”!</span>
                </div>
                
                <div class="guide-step">μ¨νΈ κΈ°κµ¬μ λ‹¤μ΄μ–Όμ„ λλ ¤ μ €ν•­ κ°•λ„λ¥Ό μ„¤μ •ν•΄μ£Όμ„Έμ”</div>
                <div class="guide-step">μ„¤μ •ν• μ €ν•­ κ°•λ„λ¥Ό μ•„λ ν™”λ©΄μ— λ‘κ°™μ΄ μ…λ ¥ν•μ„Έμ”</div>
                <div class="guide-step">λ³µμ‹νΈν΅μΌλ΅ μ½”κ°€ μ•„λ‹ μ…μΌλ΅λ§ νΈν΅ν•μ„Έμ”</div>
            </div> -->

            <!-- μ €ν•­ μ„¤μ • (μ΄λ™ νƒ­μΌλ΅ μ΄λ™ μμ •) -->
            <!-- <div class="resistance-card">
                <div class="resistance-header">
                    <div class="resistance-title">π― μ €ν•­ κ°•λ„ μ„¤μ •</div>
                </div>
                
                <div class="resistance-controls">
                    <div class="resistance-control">
                        <div class="resistance-label">λ“¤μ¨ (Inhale)</div>
                        <div class="resistance-selector">
                            <button class="resistance-btn" onclick="adjustResistance('inhale', -1)">β’</button>
                            <div class="resistance-value" id="inhaleLevel">1</div>
                            <button class="resistance-btn" onclick="adjustResistance('inhale', 1)">+</button>
                        </div>
                        <div class="resistance-dots" id="inhaleScale">
                            <div class="dot active"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                        </div>
                    </div>

                    <div class="resistance-control">
                        <div class="resistance-label">λ‚ μ¨ (Exhale)</div>
                        <div class="resistance-selector">
                            <button class="resistance-btn" onclick="adjustResistance('exhale', -1)">β’</button>
                            <div class="resistance-value" id="exhaleLevel">1</div>
                            <button class="resistance-btn" onclick="adjustResistance('exhale', 1)">+</button>
                        </div>
                        <div class="resistance-dots" id="exhaleScale">
                            <div class="dot active"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                        </div>
                    </div>
                </div>

                <div class="resistance-tip">
                    π’΅ μ²μμ΄μ‹λ©΄ 1λ‹¨κ³„ μ¶”μ² β€Ά μ λ‹Ήν νλ“  κ°•λ„κ°€ μµμ μ΄μ—μ”!
                </div>
            </div> -->

            <!-- μ°¨νΈ μ„Ήμ… -->
            <div class="chart-section">
                <div class="section-header">
                    <div>
                        <h2 class="section-title">
                            <span class="section-icon">π“</span>
                            <span>μ£Όκ°„ ν™λ™</span>
                        </h2>
                        <div class="section-subtitle" id="chartSubtitle">μ΄λ² μ£Ό νΈλ μ΄λ‹ μ„±κ³Όλ¥Ό ν•λμ—</div>
                    </div>
                </div>

                <div class="chart-container">
                    <div class="chart-legend">μ™„λ£ν• μ„ΈνΈ μ (μΌλ³„)</div>
                    <div class="chart-area">
                        <div class="chart-y-axis">
                            <div class="y-label">4</div>
                            <div class="y-label">3</div>
                            <div class="y-label">2</div>
                            <div class="y-label">1</div>
                            <div class="y-label">0</div>
                        </div>
                        <div class="chart-bars" id="chartBars">
                            <div class="chart-bar" style="height: 0%" data-day="0"></div>
                            <div class="chart-bar" style="height: 0%" data-day="1"></div>
                            <div class="chart-bar" style="height: 0%" data-day="2"></div>
                            <div class="chart-bar" style="height: 0%" data-day="3"></div>
                            <div class="chart-bar" style="height: 0%" data-day="4"></div>
                            <div class="chart-bar" style="height: 0%" data-day="5"></div>
                            <div class="chart-bar" style="height: 0%" data-day="6"></div>
                        </div>
                    </div>
                    <div class="chart-x-axis" id="chartXAxis">
                        <div class="x-label">μΌ</div>
                        <div class="x-label">μ›”</div>
                        <div class="x-label">ν™”</div>
                        <div class="x-label">μ</div>
                        <div class="x-label">λ©</div>
                        <div class="x-label">κΈ</div>
                        <div class="x-label">ν† </div>
                    </div>
                </div>
            </div>

            <!-- νΈλ μ΄λ‹ μ‹μ‘ -->
            <div class="start-training-section">
                <button class="start-button" onclick="startExerciseWithNavigation()">
                    <span>π€</span>
                    <span>νΈλ μ΄λ‹ μ‹μ‘</span>
                </button>
            </div>

        </div>

        <!-- μ „μ—­ λ„¤λΉ„κ²μ΄μ… (ν™ν™”λ©΄κ³Ό μ΄λ™ λ¨λ“ μ„ νƒ ν™”λ©΄μ—μ„λ§ ν‘μ‹) -->
        <div class="home-navigation" id="globalNavigation">
            <button class="nav-item active" onclick="switchTab('home')">
                <span class="nav-icon">π </span>
                <span class="nav-label">ν™</span>
            </button>
            <button class="nav-item" onclick="switchTab('workout')">
                <span class="nav-icon">π’</span>
                <span class="nav-label">μ΄λ™</span>
            </button>
            <button class="nav-item" onclick="switchTab('records')">
                <span class="nav-icon">π“</span>
                <span class="nav-label">κΈ°λ΅</span>
            </button>
        </div>

        <!-- μ΄λ™ ν™”λ©΄ -->
        <div id="exerciseScreen" class="screen">
            <div class="container">
                <div id="countdownSection">
                    <h2>νΈλ μ΄λ‹μ„ μ‹μ‘ν• κ²μ”</h2>
                    <div class="countdown" id="countdown">3</div>
                </div>

                <div id="breathingSection" style="display: none;">
                    <div class="breathing-circle" id="breathingCircle">
                        <span id="circleText">μ¤€λΉ„</span>
                    </div>
                    
                    <div class="progress-container">
                        <div class="sets-progress">
                            <div class="progress-label">μ„ΈνΈ μ§„ν–‰λ„</div>
                            <div class="sets-indicators" id="setsIndicators">
                                <div class="set-indicator"></div>
                                <div class="set-indicator"></div>
                            </div>
                            <div class="progress-numbers" id="setNumbers">1 / 2 μ„ΈνΈ</div>
                        </div>
                        
                        <div class="breaths-progress">
                            <div class="progress-label">νΈν΅ νμ</div>
                            <div class="breaths-indicators" id="breathsIndicators">
                                <!-- 10κ°μ νΈν΅ μ λ“¤μ΄ JavaScriptλ΅ μƒμ„±λ¨ -->
                            </div>
                            <div class="progress-numbers" id="breathNumbers">1 / 10 ν</div>
                        </div>
                    </div>
                    
                    <div class="control-buttons">
                        <button class="btn btn-secondary" onclick="pauseExercise()">μΌμ‹μ •μ§€</button>
                        <button class="btn btn-secondary" onclick="showStopModal()">μ¤‘λ‹¨</button>
                    </div>
                </div>

                <div id="restSection" style="display: none;">
                    <h2>ν΄μ‹ μ‹κ°„</h2>
                    <div class="countdown" id="restCountdown">2:00</div>
                    <p>λ‹¤μ μ„ΈνΈκΉμ§€ νΈν΅μ„ μ •λ¦¬ν•μ„Έμ”</p>
                    <div class="progress-numbers" id="restProgressText">1μ„ΈνΈ μ™„λ£</div>
                    
                    <div class="control-buttons" id="restControlButtons" style="display: none;">
                        <button class="btn btn-success" onclick="skipRest()">ν΄μ‹ κ±΄λ„λ›°κΈ°</button>
                        <button class="btn btn-secondary" onclick="showStopModal()">μ¤‘λ‹¨</button>
                    </div>
                </div>

                <!-- π® ν€΄μ¦ μ μ• ν™”λ©΄ -->
                <div id="quizOfferSection" style="display: none;">
                    <h2>ν΄μ‹ μ‹κ°„</h2>
                    <div class="countdown" id="quizOfferCountdown">2:00</div>
                    
                    <div class="quiz-offer-card">
                        <div class="quiz-offer-title">κ°„λ‹¨ν• ν€΄μ¦ ν’€κΉμ”?</div>
                        <div class="quiz-offer-subtitle" id="quizOfferSubtitle">2λ¬Έμ λ§! νΉλ³„ ννƒλ„ λ°›μΌμ„Έμ”</div>
                        
                        <div class="quiz-offer-buttons">
                            <button class="quiz-offer-primary" onclick="startQuiz()" id="quizOfferButton">
                                ν€΄μ¦ ν’€κ³  15% ν• μΈλ°›κΈ°
                            </button>
                            <button class="quiz-offer-secondary" onclick="chooseRestOnly()">
                                ν΄μ‹λ§ ν•κΈ°
                            </button>
                        </div>
                    </div>
                </div>

                <!-- π§  ν€΄μ¦ μ§„ν–‰ ν™”λ©΄ -->
                <div id="quizProgressSection" style="display: none;">
                    <div class="quiz-progress-header">
                        <h2>ν€΄μ¦ νƒ€μ„!</h2>
                        <div class="countdown" id="quizCountdown">2:00</div>
                        
                        <div class="quiz-progress-bar">
                            <div class="quiz-progress-fill" id="quizProgressFill" style="width: 50%"></div>
                        </div>
                        <div class="quiz-progress-text" id="quizProgressText">λ¬Έμ  1 / 2</div>
                    </div>
                    
                    <div class="quiz-question-card">
                        <div class="quiz-question" id="quizQuestion">λ¬Έμ κ°€ μ—¬κΈ°μ— ν‘μ‹λ©λ‹λ‹¤</div>
                        <div class="quiz-options" id="quizOptions">
                            <!-- μ„ νƒμ§€λ“¤μ΄ JavaScriptλ΅ μƒμ„±λ¨ -->
                        </div>
                        <div class="quiz-explanation" id="quizExplanation" style="display: none;">
                            μ„¤λ…μ΄ μ—¬κΈ°μ— ν‘μ‹λ©λ‹λ‹¤
                        </div>
                    </div>
                </div>

                <!-- π ν€΄μ¦ λ³΄μƒ ν™”λ©΄ -->
                <div id="quizRewardSection" style="display: none;">
                    <h2>ν΄μ‹ μ‹κ°„</h2>
                    <div class="countdown" id="quizRewardCountdown">2:00</div>
                    
                    <div class="quiz-reward-card">
                        <div class="quiz-reward-title">π‰ ν€΄μ¦ μ™„λ£!</div>
                        <div class="quiz-reward-subtitle" id="quizRewardSubtitle">2λ¬Έμ  λ¨λ‘ μ •λ‹µ! νΉλ³„ ννƒμ„ λ°›μΌμ„Έμ”</div>
                        
                        <div class="quiz-product-showcase">
                            <div class="quiz-product-image">
                                <img src="./images/suumt-product.png" alt="μ¨νΈ μ ν’" id="rewardProductImage" 
                                     onerror="this.style.display='none'; this.parentNode.innerHTML='π';">
                            </div>
                            <div class="quiz-product-name" id="rewardProductName">μ¨νΈ νΈν΅μ΄λ™κΈ°κµ¬</div>
                            <div class="quiz-product-description" id="rewardProductDescription">μ•± μ‚¬μ©μλ§μ„ μ„ν• νΉλ³„κ°€</div>
                            <div class="quiz-product-price-line">
                                <span class="quiz-original-price" id="rewardOriginalPrice">89,000μ›</span>
                                <span class="quiz-price-arrow">β†’</span>
                                <span class="quiz-discount-price" id="rewardDiscountPrice">75,650μ›</span>
                                <span class="quiz-discount-badge" id="rewardDiscountBadge">15%β†“</span>
                            </div>
                        </div>
                        
                        <div class="quiz-dual-buttons">
                            <button class="quiz-check-button" onclick="checkSpecialOffer()">
                                π‘€ νΉκ°€ ν™•μΈν•κΈ°
                            </button>
                            <button class="quiz-continue-button" onclick="continueToNextSet()">
                                π’ λ‹¤μ μ„ΈνΈ μ‹μ‘
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ν”Όλ“λ°± νμ΄μ§€ -->
        <div id="feedbackScreen" class="screen">
            <div class="container">
                <div class="celebration">π¤–</div>
                <h2 id="feedbackTitle">μ§€κΈ νΈν΅ν•λ” λλ‚μ΄ μ–΄λ– μ„Έμ”?</h2>
                <p class="subtitle" id="feedbackDescription">λ°©κΈ μ™„λ£ν• νΈλ μ΄λ‹μ κ°•λ„λ” μ–΄λ– μ…¨λ‚μ”?</p>
                
                <div class="feedback-options">
                    <button class="feedback-option easy" onclick="selectFeedback('easy')">
                        <div class="feedback-emoji">π</div>
                        <div class="feedback-text">λ„λ¬΄ νΈν•΄μ”</div>
                        <div class="feedback-desc">λ” κ°•ν• κ°•λ„λ΅ λ„μ „ν•  μ μμ–΄μ”</div>
                    </button>
                    
                    <button class="feedback-option perfect" onclick="selectFeedback('perfect')">
                        <div class="feedback-emoji">π’</div>
                        <div class="feedback-text">λ”± μΆ‹μ•„μ”</div>
                        <div class="feedback-desc">μ λ‹Ήν νλ“¤λ©΄μ„ μ™„μ£Όν•  μ μμ—μ–΄μ”</div>
                    </button>
                    
                    <button class="feedback-option hard" onclick="selectFeedback('hard')">
                        <div class="feedback-emoji">π¤</div>
                        <div class="feedback-text">λ„λ¬΄ νλ“¤μ–΄μ”</div>
                        <div class="feedback-desc">κ°•λ„λ¥Ό λ‚®μ¶°μ„ μ•μ „ν•κ² μ΄λ™ν•κ³  μ‹¶μ–΄μ”</div>
                    </button>
                </div>
            </div>
        </div>

        <!-- κ²°κ³Ό ν™”λ©΄ -->
        <div id="resultScreen" class="screen">
            <div class="container">
                <div class="result-header">
                    <div class="celebration">π‰</div>
                    <h2>νΈλ μ΄λ‹ μ™„λ£!</h2>
                </div>
                
                <div class="result-stats-grid">
                    <div class="result-stat-card">
                        <div class="result-stat-header">
                            <span class="result-stat-title">μ €ν•­ κ°•λ„</span>
                            <span class="result-stat-icon">π―</span>
                        </div>
                        <div class="result-stat-value" id="resistanceInfo">1/1</div>
                    </div>
                    
                    <div class="result-stat-card">
                        <div class="result-stat-header">
                            <span class="result-stat-title">μ΄ μ‹κ°„</span>
                            <span class="result-stat-icon">β±οΈ</span>
                        </div>
                        <div class="result-stat-value" id="totalTime">0λ¶„</div>
                    </div>
                    
                    <div class="result-stat-card">
                        <div class="result-stat-header">
                            <span class="result-stat-title">μ™„λ£ μ„ΈνΈ</span>
                            <span class="result-stat-icon">β…</span>
                        </div>
                        <div class="result-stat-value" id="completedSets">0/2</div>
                    </div>
                    
                    <div class="result-stat-card">
                        <div class="result-stat-header">
                            <span class="result-stat-title">μ΄ νΈν΅νμ</span>
                            <span class="result-stat-icon">π«</span>
                        </div>
                        <div class="result-stat-value" id="totalBreathsResult">0ν</div>
                    </div>
                </div>

                <!-- π® λ°°μ§€ μ‹μ¤ν… -->
                <div class="badges-system">
                    <div class="badges-header">
                        <span class="section-icon">π†</span>
                        <span class="badges-title">λ°°μ§€ μ»¬λ ‰μ…</span>
                    </div>
                    <div class="badges-progress" id="badgesProgress">μμ§‘ν• λ°°μ§€: 0/15</div>
                    <div class="badges-grid" id="badgesGrid">
                        <!-- λ°°μ§€λ“¤μ΄ JavaScriptλ΅ μƒμ„±λ¨ -->
                    </div>
                </div>

                <!-- π”¥ μƒλ΅μ΄ κΈ°λ¥: μ‚¬νμ  μ¦λ… μ„Ήμ… -->
                <div class="social-proof-section">
                    <div class="social-proof-card">
                        <div class="social-proof-header">
                            <span class="section-icon">π‘¥</span>
                            <span class="social-proof-title">ν•¨κ»ν•λ” μ¨νΈ μ»¤λ®¤λ‹ν‹°</span>
                        </div>
                        
                        <div class="live-stats">
                            <div class="live-stat">
                                <div class="live-stat-number" id="liveUsersCount">1,247</div>
                                <div class="live-stat-label">μ¤λ ν™λ™ μ¤‘</div>
                            </div>
                            <div class="live-stat">
                                <div class="live-stat-number" id="totalUsersCount">12,543</div>
                                <div class="live-stat-label">μ „μ²΄ μ‚¬μ©μ</div>
                            </div>
                        </div>
                        
                        <div class="reviews-carousel">
                            <div class="reviews-slider" id="reviewsSlider">
                                <!-- λ¦¬λ·° μΉ΄λ“λ“¤μ΄ JavaScriptλ΅ μƒμ„±λ¨ -->
                            </div>
                            <div class="carousel-dots" id="carouselDots">
                                <!-- μ λ“¤μ΄ JavaScriptλ΅ μƒμ„±λ¨ -->
                            </div>
                        </div>
                    </div>
                </div>

                <div id="achievementBadges"></div>

                <div class="result-content">
                    <div class="result-section">
                        <h4>π’ μ €ν•­ κ°•λ„ λ¶„μ„</h4>
                        <p id="intensityAdvice">κ°•λ„ μ΅°μ  λ¶„μ„μ„ μ§„ν–‰ν•κ³  μμµλ‹λ‹¤...</p>
                    </div>

                    <div class="result-section">
                        <h4>π† AI μ¨νΈλ μ΄λ„ μΆ…ν•©ν‰κ°€</h4>
                        <p id="comprehensiveAdvice">AI μ¨νΈλ μ΄λ„κ°€ λ‹Ήμ‹ μ νΈλ μ΄λ‹μ„ λ¶„μ„ν•κ³  μμµλ‹λ‹¤...</p>
                    </div>
                </div>

                <div class="control-buttons">
                    <button class="btn btn-success" onclick="startExercise()">λ‹¤μ‹ νΈλ μ΄λ‹ν•κΈ°</button>
                    <button class="btn" onclick="goToMain()">λ©”μΈμΌλ΅</button>
                </div>
            </div>
        </div>
    </div>

    <!-- μ΄λ™ λ¨λ“ μ„ νƒ ν™”λ©΄ -->
    <div id="workoutModeScreen" class="screen" style="display: none;">
        <div class="container">
            <div class="screen-header">
                <h1 class="screen-title">π’ μ΄λ™ λ¨λ“ μ„ νƒ</h1>
                <p class="screen-subtitle">μ›ν•λ” μ΄λ™ λ¨λ“λ¥Ό μ„ νƒν•μ„Έμ”</p>
            </div>

            <div class="workout-modes-grid">
                <!-- μ¨νΈλ μ΄λ‹ μ΄λ™ λ¨λ“ -->
                <div class="workout-mode-card" onclick="selectWorkoutMode('suumt')">
                    <div class="workout-mode-icon">π«</div>
                    <div class="workout-mode-content">
                        <h3 class="workout-mode-title">μ¨νΈλ μ΄λ‹ μ΄λ™ λ¨λ“</h3>
                        <p class="workout-mode-description">νΈν΅ κ·Όμ΅ κ°•ν™” λ° νν™λ‰ μ¦μ§„</p>
                        <div class="workout-mode-technique">μ €ν•­ νΈν΅ ν›λ ¨</div>
                    </div>
                </div>

                <!-- μ¶”κ°€ μμ • λ¨λ“ 1 -->
                <div class="workout-mode-card coming-soon">
                    <div class="workout-mode-icon">π§</div>
                    <div class="workout-mode-content">
                        <h3 class="workout-mode-title">λ…μƒ νΈν΅ λ¨λ“</h3>
                        <p class="workout-mode-description">λ§μμ ν‰μ¨κ³Ό μ§‘μ¤‘λ ¥ ν–¥μƒ</p>
                        <div class="workout-mode-technique">4-7-8 νΈν΅λ²•</div>
                        <div class="coming-soon-badge">λ‚μ¤‘μ— μ¶”κ°€ μμ •</div>
                    </div>
                </div>

                <!-- μ¶”κ°€ μμ • λ¨λ“ 2 -->
                <div class="workout-mode-card coming-soon">
                    <div class="workout-mode-icon">πƒ</div>
                    <div class="workout-mode-content">
                        <h3 class="workout-mode-title">μ¤ν¬μΈ  νΈν΅ λ¨λ“</h3>
                        <p class="workout-mode-description">μ΄λ™ μ„±λ¥ λ° μ§€κµ¬λ ¥ ν–¥μƒ</p>
                        <div class="workout-mode-technique">κ³ κ°•λ„ κ°„ν— νΈν΅</div>
                        <div class="coming-soon-badge">λ‚μ¤‘μ— μ¶”κ°€ μμ •</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- μΈλΌμΈ CSSλ΅ λ„¤λΉ„κ²μ΄μ… μ¤νƒ€μΌ μ¶”κ°€ -->
    <style>
        /* μ „μ—­ λ„¤λΉ„κ²μ΄μ… μ¤νƒ€μΌ */
        #globalNavigation {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-around;
            padding: 20px 0;
            background: white;
            border-radius: 12px 12px 0 0;
            box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        /* ν™”λ©΄ μ½ν…μΈ κ°€ ν•λ‹¨ λ„¤λΉ„κ²μ΄μ…μ— κ°€λ ¤μ§€μ§€ μ•λ„λ΅ ν¨λ”© μ¶”κ°€ */
        .screen {
            padding-bottom: 120px;
        }

        /* μ΄λ™ λ¨λ“ μ„ νƒ ν™”λ©΄ μ¤νƒ€μΌ */
        .workout-modes-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin: 30px 0;
        }

        .workout-mode-card {
            display: flex;
            align-items: center;
            padding: 24px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
        }

        .workout-mode-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
            border-color: #dbeafe;
        }

        .workout-mode-card.coming-soon {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .workout-mode-card.coming-soon:hover {
            transform: none;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-color: transparent;
        }

        .workout-mode-icon {
            font-size: 48px;
            margin-right: 20px;
            flex-shrink: 0;
        }

        .workout-mode-content {
            flex: 1;
        }

        .workout-mode-title {
            font-size: 20px;
            font-weight: 600;
            color: #1f2937;
            margin: 0 0 8px 0;
        }

        .workout-mode-description {
            font-size: 16px;
            color: #6b7280;
            margin: 0 0 12px 0;
            line-height: 1.5;
        }

        .workout-mode-technique {
            font-size: 14px;
            color: #2563eb;
            font-weight: 500;
            background: #eff6ff;
            padding: 6px 12px;
            border-radius: 20px;
            display: inline-block;
        }

        .coming-soon-badge {
            position: absolute;
            top: 12px;
            right: 12px;
            background: #f59e0b;
            color: white;
            font-size: 12px;
            font-weight: 500;
            padding: 4px 8px;
            border-radius: 12px;
        }

        .screen-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .screen-title {
            font-size: 28px;
            font-weight: 700;
            color: #1f2937;
            margin: 0 0 8px 0;
        }

        .screen-subtitle {
            font-size: 16px;
            color: #6b7280;
            margin: 0;
        }
    </style>

    <!-- μΈλΌμΈ JavaScriptλ΅ λ¨λ“  κΈ°λ¥ κµ¬ν„ -->
    <script>
        // λ„¤λΉ„κ²μ΄μ… νƒ­ μ „ν™ ν•¨μ
        function switchTab(tabName) {
            // λ¨λ“  λ„¤λΉ„κ²μ΄μ… μ•„μ΄ν… λΉ„ν™μ„±ν™”
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.classList.remove('active');
            });
            
            // μ„ νƒλ λ„¤λΉ„κ²μ΄μ… μ•„μ΄ν… ν™μ„±ν™” (λ¨λ“  λ„¤λΉ„κ²μ΄μ…μ—μ„ ν•΄λ‹Ή νƒ­ μ°ΎκΈ°)
            const targetNavItems = document.querySelectorAll(`[onclick="switchTab('${tabName}')"]`);
            targetNavItems.forEach(item => {
                item.classList.add('active');
            });
            
            // νƒ­λ³„ λ΅μ§
            switch(tabName) {
                case 'home':
                    // ν™ νƒ­μ—μ„λ” ν†µκ³„ λ°μ΄ν„° μƒλ΅κ³ μΉ¨
                    if (typeof loadUserData === 'function') {
                        loadUserData();
                    }
                    showMainScreen();
                    break;
                case 'workout':
                    // μ΄λ™ νƒ­ - μ΄λ™ λ¨λ“ μ„ νƒ ν™”λ©΄μΌλ΅ μ΄λ™
                    showWorkoutModeScreen();
                    break;
                case 'records':
                    // κΈ°λ΅ νƒ­ (λ‚μ¤‘μ— κµ¬ν„)
                    console.log('κΈ°λ΅ νƒ­ - λ‚μ¤‘μ— κµ¬ν„ μμ •');
                    break;
            }
        }

        // μ΄λ™ λ¨λ“ μ„ νƒ ν™”λ©΄ ν‘μ‹
        function showWorkoutModeScreen() {
            // λ¨λ“  ν™”λ©΄ μ¨κΈ°κΈ°
            hideAllScreens();
            
            // μ΄λ™ λ¨λ“ μ„ νƒ ν™”λ©΄ ν‘μ‹
            const workoutModeScreen = document.getElementById('workoutModeScreen');
            if (workoutModeScreen) {
                workoutModeScreen.style.display = 'block';
            }
            
            // λ„¤λΉ„κ²μ΄μ… ν‘μ‹
            showNavigation();
        }

        // λ©”μΈ ν™”λ©΄ ν‘μ‹
        function showMainScreen() {
            // λ¨λ“  ν™”λ©΄ μ¨κΈ°κΈ°
            hideAllScreens();
            
            // λ©”μΈ ν™”λ©΄ ν‘μ‹
            const mainScreen = document.getElementById('mainScreen');
            if (mainScreen) {
                mainScreen.style.display = 'block';
            }
            
            // λ„¤λΉ„κ²μ΄μ… ν‘μ‹
            showNavigation();
        }

        // μ΄λ™ λ¨λ“ μ„ νƒ
        function selectWorkoutMode(mode) {
            if (mode === 'suumt') {
                console.log('μ¨νΈλ μ΄λ‹ μ΄λ™ λ¨λ“ μ„ νƒλ¨ - λ‚μ¤‘μ— κµ¬ν„ μμ •');
                // λ‚μ¤‘μ— μ¨νΈλ μ΄λ‹ μ„¤μ • ν™”λ©΄μΌλ΅ μ΄λ™ν•  μμ •
            } else {
                console.log('λ‹¤λ¥Έ μ΄λ™ λ¨λ“λ” λ‚μ¤‘μ— κµ¬ν„ μμ •');
            }
        }

        // λ¨λ“  ν™”λ©΄ μ¨κΈ°κΈ°
        function hideAllScreens() {
            const screens = document.querySelectorAll('.screen');
            screens.forEach(screen => {
                screen.style.display = 'none';
            });
        }

        // λ„¤λΉ„κ²μ΄μ… ν‘μ‹
        function showNavigation() {
            const navigation = document.getElementById('globalNavigation');
            if (navigation) {
                navigation.style.display = 'flex';
            }
        }

        // λ„¤λΉ„κ²μ΄μ… μ¨κΈ°κΈ°
        function hideNavigation() {
            const navigation = document.getElementById('globalNavigation');
            if (navigation) {
                navigation.style.display = 'none';
            }
        }

        // μ΄λ™ ν™”λ©΄μΌλ΅ μ΄λ™ν•  λ• λ„¤λΉ„κ²μ΄μ… μ¨κΈ°κΈ°
        function startExerciseWithNavigation() {
            hideNavigation();
            
            // λ¨λ“  ν™”λ©΄ μ¨κΈ°κΈ°
            hideAllScreens();
            
            // μ΄λ™ ν™”λ©΄ ν‘μ‹
            const exerciseScreen = document.getElementById('exerciseScreen');
            if (exerciseScreen) {
                exerciseScreen.style.display = 'block';
            }
            
            // κΈ°μ΅΄ startExercise ν•¨μ νΈμ¶ (μΉ΄μ΄νΈλ‹¤μ΄ μ‹μ‘)
            if (typeof window.startExercise === 'function') {
                window.startExercise();
            } else {
                // fallback: μ§μ ‘ μΉ΄μ΄νΈλ‹¤μ΄ μ‹μ‘
                if (typeof window.startCountdown === 'function') {
                    window.startCountdown();
                }
            }
        }

        // νμ΄μ§€ λ΅λ“ μ‹ μ΄κΈ°ν™”
        document.addEventListener('DOMContentLoaded', function() {
            // μ΄κΈ° μƒνƒ μ„¤μ •
            showMainScreen();
        });
    </script>

</body>
</html>
